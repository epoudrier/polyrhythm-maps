<html>
  <head>
    <title>Leaflet</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Source for your Leaflet JavaScript and CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
      integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
      crossorigin=""
    />
    <link rel="stylesheet" type="text/css" href="./jquery-ui-1.13.2/jquery-ui.css"/>
    
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script
      src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
      integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
      crossorigin=""
    ></script>
    <script src="./data.js" charset="utf-8"></script>
    <script src="./SliderControl.js"></script>
    <script src="./jquery-ui-1.13.2/jquery-ui.css"></script>
    <script src="./jquery-ui-1.13.2/jquery-ui.js"></script>
    <script src="./jquery-ui-1.13.2/external/jquery/jquery.js"></script>
  </head>

  <body>
    <!-- Map's HTML container -->
    <div id="map" style="height: 100%"></div>

    <script>
      // Initializes map; sets the initial view location and zoom level
      var map = L.map("map").setView([42, -35], 2);

      //Loads the tile layer; can be changed to layer and style of your choice
      L.tileLayer(
        "https://{s}.basemaps.cartocdn.com/{style}/{z}/{x}/{y}" +
          (L.Browser.retina ? "@2x.png" : ".png"),
        {
          attribution:
            '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy; <a href="https://carto.com/attributions">CARTO</a>',
          subdomains: "abcd",
          maxZoom: 20,
          minZoom: 0,
          style: "light_all",
        }
      ).addTo(map);

      //Create a marker layer
      var testlayer = L.geoJson(data).addTo(map);
      var sliderControl = L.control.timelineSlider({
        position: "topright",
        layer: testlayer,
      });

      //Make sure to add the slider to the map ;-)
      map.addControl(sliderControl);

      //And initialize the slider
      sliderControl.startSlider();

      $('#slider-timestamp').html(options.markers[ui.value].feature.properties.premiere_date.substr(0, 19));


      sliderControl = L.control.sliderControl({
        position: "topright",
        layer: testlayer,
        range: true,
      });
    </script>
  </body>
</html>
